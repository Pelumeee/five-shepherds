@if (isLoading()) {
  <app-details-skeleton-loader />
} @else {
  <div>
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-[#292524] font-medium text-xl">Inventory</h1>
        <span class="text-[#57534D] font-light leading-6"
          >Manage your products, stock levels, and pricing</span
        >
      </div>
      <a
        routerLink="./product"
        class="bg-[#2793E9] text-white text-sm px-6 py-2.5 rounded flex items-center gap-2 hover:bg-[#1E73C5] transition-colors cursor-pointer"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M15 10.625H5C4.65833 10.625 4.375 10.3417 4.375 10C4.375 9.65833 4.65833 9.375 5 9.375H15C15.3417 9.375 15.625 9.65833 15.625 10C15.625 10.3417 15.3417 10.625 15 10.625Z"
            fill="white"
          />
          <path
            d="M10 15.625C9.65833 15.625 9.375 15.3417 9.375 15V5C9.375 4.65833 9.65833 4.375 10 4.375C10.3417 4.375 10.625 4.65833 10.625 5V15C10.625 15.3417 10.3417 15.625 10 15.625Z"
            fill="white"
          />
        </svg>
        Add new product
      </a>
    </div>
    <div class="mt-10 grid grid-cols-5 gap-8">
      <div class="bg-white p-8 flex gap-4 rounded-xl">
        <svg
          width="40"
          height="40"
          viewBox="0 0 40 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect width="40" height="40" rx="20" fill="#DCFCE7" />
          <path
            d="M16.4024 29.0005C14.8858 29.0005 13.6066 28.4797 12.5649 27.438C11.5233 26.3963 11.0024 25.1172 11.0024 23.6005C11.0024 22.9672 11.1108 22.3505 11.3274 21.7505C11.5441 21.1505 11.8524 20.6088 12.2524 20.1255L15.8024 15.8505L14.1024 12.4505C13.9358 12.1172 13.9483 11.7922 14.1399 11.4755C14.3316 11.1588 14.6191 11.0005 15.0024 11.0005H25.0024C25.3858 11.0005 25.6733 11.1588 25.8649 11.4755C26.0566 11.7922 26.0691 12.1172 25.9024 12.4505L24.2024 15.8505L27.7524 20.1255C28.1524 20.6088 28.4608 21.1505 28.6774 21.7505C28.8941 22.3505 29.0024 22.9672 29.0024 23.6005C29.0024 25.1172 28.4774 26.3963 27.4274 27.438C26.3774 28.4797 25.1024 29.0005 23.6024 29.0005H16.4024ZM20.0024 24.0005C19.4524 24.0005 18.9816 23.8047 18.5899 23.413C18.1983 23.0213 18.0024 22.5505 18.0024 22.0005C18.0024 21.4505 18.1983 20.9797 18.5899 20.588C18.9816 20.1963 19.4524 20.0005 20.0024 20.0005C20.5524 20.0005 21.0233 20.1963 21.4149 20.588C21.8066 20.9797 22.0024 21.4505 22.0024 22.0005C22.0024 22.5505 21.8066 23.0213 21.4149 23.413C21.0233 23.8047 20.5524 24.0005 20.0024 24.0005ZM17.6274 15.0005H22.3774L23.3774 13.0005H16.6274L17.6274 15.0005ZM16.4024 27.0005H23.6024C24.5524 27.0005 25.3566 26.6713 26.0149 26.013C26.6733 25.3547 27.0024 24.5505 27.0024 23.6005C27.0024 23.2005 26.9316 22.813 26.7899 22.438C26.6483 22.063 26.4524 21.7255 26.2024 21.4255L22.5274 17.0005H17.5024L13.8024 21.4005C13.5524 21.7005 13.3566 22.0422 13.2149 22.4255C13.0733 22.8088 13.0024 23.2005 13.0024 23.6005C13.0024 24.5505 13.3316 25.3547 13.9899 26.013C14.6483 26.6713 15.4524 27.0005 16.4024 27.0005Z"
            fill="#00C951"
          />
        </svg>

        <div>
          <span class="text-sm font-light text-[#79716B]">Total asset value</span>
          <h2 class="text-2xl font-semibold text-[#44403B] mt-2">
            {{ totalWorth() | currency: 'â‚¦' : 'symbol' : '1.0-0' }}
          </h2>
        </div>
      </div>
      <div class="col-span-4 flex flex-col bg-white p-8 gap-4 rounded-xl">
        <div class="flex items-end gap-1">
          <h2 class="text-4xl font-semibold text-[#44403B] mt-2">{{ totalInventory().length }}</h2>
          <span class="font-medium text-[#79716B]">
            {{ totalInventory().length === 1 ? 'product' : 'products' }}</span
          >
        </div>

        <div class="w-full h-1.5 flex gap-1 rounded overflow-hidden bg-gray-200">
          <div class="bg-green-500" [style.flex]="stockStats().inStock"></div>

          <div class="bg-yellow-400" [style.flex]="stockStats().lowStock"></div>

          <div class="bg-red-500" [style.flex]="stockStats().outStock"></div>
        </div>

        <div class="flex items-center gap-4 text-sm mt-3">
          <div class="flex items-center gap-1.5">
            <div class="w-3 h-3 bg-green-500 rounded-sm"></div>
            <span class="text-gray-700">
              In stock:
              <span class="font-medium">{{ stockStats().inStock }}</span>
            </span>
          </div>

          <div class="flex items-center gap-1.5">
            <div class="w-3 h-3 bg-yellow-400 rounded-sm"></div>
            <span class="text-gray-700">
              Low stock:
              <span class="font-medium">{{ stockStats().lowStock }}</span>
            </span>
          </div>

          <div class="flex items-center gap-1.5">
            <div class="w-3 h-3 bg-red-500 rounded-sm"></div>
            <span class="text-gray-700">
              Out of stock:
              <span class="font-medium">{{ stockStats().outStock }}</span>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div class="w-full h-1.5 bg-[#E7E5E4] my-10"></div>

    <div class="my-10">
      <div class="flex items-center justify-between">
        <div class="bg-[#F5F5F4] py-2 px-4 flex items-center gap-2 border border-[#E7E5E4] w-[30%]">
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.5 13C4.68333 13 3.14583 12.3708 1.8875 11.1125C0.629167 9.85417 0 8.31667 0 6.5C0 4.68333 0.629167 3.14583 1.8875 1.8875C3.14583 0.629167 4.68333 0 6.5 0C8.31667 0 9.85417 0.629167 11.1125 1.8875C12.3708 3.14583 13 4.68333 13 6.5C13 7.23333 12.8833 7.925 12.65 8.575C12.4167 9.225 12.1 9.8 11.7 10.3L17.3 15.9C17.4833 16.0833 17.575 16.3167 17.575 16.6C17.575 16.8833 17.4833 17.1167 17.3 17.3C17.1167 17.4833 16.8833 17.575 16.6 17.575C16.3167 17.575 16.0833 17.4833 15.9 17.3L10.3 11.7C9.8 12.1 9.225 12.4167 8.575 12.65C7.925 12.8833 7.23333 13 6.5 13ZM6.5 11C7.75 11 8.8125 10.5625 9.6875 9.6875C10.5625 8.8125 11 7.75 11 6.5C11 5.25 10.5625 4.1875 9.6875 3.3125C8.8125 2.4375 7.75 2 6.5 2C5.25 2 4.1875 2.4375 3.3125 3.3125C2.4375 4.1875 2 5.25 2 6.5C2 7.75 2.4375 8.8125 3.3125 9.6875C4.1875 10.5625 5.25 11 6.5 11Z"
              fill="#5F6368"
            />
          </svg>
          <input
            type="text"
            class="w-full bg-inherit focus:outline-none text-sm text-[#9CA3AF]"
            placeholder="Search by product name, SKU, or order ID..."
          />
        </div>
        <div class="flex items-center gap-5">
          <select
            name=""
            id=""
            class="bg-white focus:outline-none text-sm text-[#9CA3AF] py-2 px-5"
          >
            <option value="">Date</option>
          </select>
          <select
            name=""
            id=""
            class="bg-white focus:outline-none text-sm text-[#9CA3AF] py-2 px-5"
          >
            <option value="">Status</option>
            <option value="">Pending</option>
            <option value="">Accepted</option>
            <option value="">Countered</option>
            <option value="">Rejected</option>
          </select>
          <div class="bg-white p-1 rounded-md flex items-center gap-1">
            <button
              (click)="view.set('grid')"
              [class.bg-[#ECE7DF]]="view() === 'grid'"
              class="flex items-center gap-1 py-2 px-6 rounded-md focus:outline-none cursor-pointer"
              [class.text-[#A0610E]]="view() === 'grid'"
              [class.text-[#57534D]]="view() !== 'grid'"
            >
              <svg
                width="15"
                height="15"
                viewBox="0 0 15 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.66667 6.66667C1.20833 6.66667 0.815972 6.50347 0.489583 6.17708C0.163194 5.85069 0 5.45833 0 5V1.66667C0 1.20833 0.163194 0.815972 0.489583 0.489583C0.815972 0.163194 1.20833 0 1.66667 0H5C5.45833 0 5.85069 0.163194 6.17708 0.489583C6.50347 0.815972 6.66667 1.20833 6.66667 1.66667V5C6.66667 5.45833 6.50347 5.85069 6.17708 6.17708C5.85069 6.50347 5.45833 6.66667 5 6.66667H1.66667ZM1.66667 15C1.20833 15 0.815972 14.8368 0.489583 14.5104C0.163194 14.184 0 13.7917 0 13.3333V10C0 9.54167 0.163194 9.14931 0.489583 8.82292C0.815972 8.49653 1.20833 8.33333 1.66667 8.33333H5C5.45833 8.33333 5.85069 8.49653 6.17708 8.82292C6.50347 9.14931 6.66667 9.54167 6.66667 10V13.3333C6.66667 13.7917 6.50347 14.184 6.17708 14.5104C5.85069 14.8368 5.45833 15 5 15H1.66667ZM10 6.66667C9.54167 6.66667 9.14931 6.50347 8.82292 6.17708C8.49653 5.85069 8.33333 5.45833 8.33333 5V1.66667C8.33333 1.20833 8.49653 0.815972 8.82292 0.489583C9.14931 0.163194 9.54167 0 10 0H13.3333C13.7917 0 14.184 0.163194 14.5104 0.489583C14.8368 0.815972 15 1.20833 15 1.66667V5C15 5.45833 14.8368 5.85069 14.5104 6.17708C14.184 6.50347 13.7917 6.66667 13.3333 6.66667H10ZM10 15C9.54167 15 9.14931 14.8368 8.82292 14.5104C8.49653 14.184 8.33333 13.7917 8.33333 13.3333V10C8.33333 9.54167 8.49653 9.14931 8.82292 8.82292C9.14931 8.49653 9.54167 8.33333 10 8.33333H13.3333C13.7917 8.33333 14.184 8.49653 14.5104 8.82292C14.8368 9.14931 15 9.54167 15 10V13.3333C15 13.7917 14.8368 14.184 14.5104 14.5104C14.184 14.8368 13.7917 15 13.3333 15H10ZM1.66667 5H5V1.66667H1.66667V5ZM10 5H13.3333V1.66667H10V5ZM10 13.3333H13.3333V10H10V13.3333ZM1.66667 13.3333H5V10H1.66667V13.3333Z"
                  fill="currentColor"
                />
              </svg>
              <span
                [class.text-[#A0610E]]="view() === 'grid'"
                class="text-[#79716B] font-medium text-sm"
                >Grid</span
              >
            </button>
            <button
              (click)="view.set('list')"
              [class.bg-[#ECE7DF]]="view() === 'list'"
              class="flex items-center py-2 px-6 gap-1 rounded-md focus:outline-none cursor-pointer"
              [class.text-[#A0610E]]="view() === 'list'"
              [class.text-[#57534D]]="view() !== 'list'"
            >
              <svg
                width="15"
                height="9"
                viewBox="0 0 15 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4.16667 1.66667C3.93056 1.66667 3.73264 1.58681 3.57292 1.42708C3.41319 1.26736 3.33333 1.06944 3.33333 0.833333C3.33333 0.597222 3.41319 0.399306 3.57292 0.239583C3.73264 0.0798611 3.93056 0 4.16667 0H14.1667C14.4028 0 14.6007 0.0798611 14.7604 0.239583C14.9201 0.399306 15 0.597222 15 0.833333C15 1.06944 14.9201 1.26736 14.7604 1.42708C14.6007 1.58681 14.4028 1.66667 14.1667 1.66667H4.16667ZM4.16667 5C3.93056 5 3.73264 4.92014 3.57292 4.76042C3.41319 4.60069 3.33333 4.40278 3.33333 4.16667C3.33333 3.93056 3.41319 3.73264 3.57292 3.57292C3.73264 3.41319 3.93056 3.33333 4.16667 3.33333H14.1667C14.4028 3.33333 14.6007 3.41319 14.7604 3.57292C14.9201 3.73264 15 3.93056 15 4.16667C15 4.40278 14.9201 4.60069 14.7604 4.76042C14.6007 4.92014 14.4028 5 14.1667 5H4.16667ZM4.16667 8.33333C3.93056 8.33333 3.73264 8.25347 3.57292 8.09375C3.41319 7.93403 3.33333 7.73611 3.33333 7.5C3.33333 7.26389 3.41319 7.06597 3.57292 6.90625C3.73264 6.74653 3.93056 6.66667 4.16667 6.66667H14.1667C14.4028 6.66667 14.6007 6.74653 14.7604 6.90625C14.9201 7.06597 15 7.26389 15 7.5C15 7.73611 14.9201 7.93403 14.7604 8.09375C14.6007 8.25347 14.4028 8.33333 14.1667 8.33333H4.16667ZM0.833333 1.66667C0.597222 1.66667 0.399306 1.58681 0.239583 1.42708C0.0798611 1.26736 0 1.06944 0 0.833333C0 0.597222 0.0798611 0.399306 0.239583 0.239583C0.399306 0.0798611 0.597222 0 0.833333 0C1.06944 0 1.26736 0.0798611 1.42708 0.239583C1.58681 0.399306 1.66667 0.597222 1.66667 0.833333C1.66667 1.06944 1.58681 1.26736 1.42708 1.42708C1.26736 1.58681 1.06944 1.66667 0.833333 1.66667ZM0.833333 5C0.597222 5 0.399306 4.92014 0.239583 4.76042C0.0798611 4.60069 0 4.40278 0 4.16667C0 3.93056 0.0798611 3.73264 0.239583 3.57292C0.399306 3.41319 0.597222 3.33333 0.833333 3.33333C1.06944 3.33333 1.26736 3.41319 1.42708 3.57292C1.58681 3.73264 1.66667 3.93056 1.66667 4.16667C1.66667 4.40278 1.58681 4.60069 1.42708 4.76042C1.26736 4.92014 1.06944 5 0.833333 5ZM0.833333 8.33333C0.597222 8.33333 0.399306 8.25347 0.239583 8.09375C0.0798611 7.93403 0 7.73611 0 7.5C0 7.26389 0.0798611 7.06597 0.239583 6.90625C0.399306 6.74653 0.597222 6.66667 0.833333 6.66667C1.06944 6.66667 1.26736 6.74653 1.42708 6.90625C1.58681 7.06597 1.66667 7.26389 1.66667 7.5C1.66667 7.73611 1.58681 7.93403 1.42708 8.09375C1.26736 8.25347 1.06944 8.33333 0.833333 8.33333Z"
                  fill="currentColor"
                />
              </svg>

              <span
                [class.text-[#A0610E]]="view() === 'list'"
                class="text-[#79716B] font-medium text-sm"
                >List</span
              >
            </button>
          </div>
        </div>
      </div>

      <div class="w-full my-10">
        @if (view() === 'grid') {
          <div class="grid grid-cols-5 mt-10 gap-6">
            @for (inventory of paginatedInventory(); track inventory.sku) {
              <app-inventory-card [inventoryObject]="inventory" />
            }
          </div>
        } @else {
          <div class="w-full mt-10">
            <app-inventory-table [inventoryData]="paginatedInventory()" />
          </div>
        }
      </div>

      <!--  PAGINATION  -->
      <div class="flex items-center gap-16">
        <div class="flex items-center gap-4">
          <h3 class="text-sm font-medium text-[#44403B]">
            Results 1 - {{ paginatedInventory().length }} of {{ totalInventory().length }}
          </h3>
          <select
            (change)="changePageSize($event)"
            class="bg-white focus:outline-none text-sm text-[#9CA3AF] py-2 px-2"
          >
            <option value="5">5</option>
            <option value="10">10</option>
            <option value="15">15</option>
            <option value="20">20</option>
            <option value="all">All</option>
          </select>
        </div>
        <div class="flex items-center gap-2">
          <button
            (click)="changePage(page() - 1)"
            [disabled]="page() === 1"
            class="disabled:opacity-50 disabled:cursor-not-allowed bg-white focus:outline-none py-2 px-4 rounded-md cursor-pointer flex items-center gap-2"
          >
            <svg
              width="5"
              height="10"
              viewBox="0 0 7 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6 11L1 6L6 1"
                stroke="#44403B"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            <span class="text-sm font-medium text-[#44403B]">Previous</span>
          </button>

          <div class="flex items-center gap-2">
            @for (p of visiblePages(); track p) {
              @if (p === '...') {
                <span class="py-2 px-3 text-sm text-[#9CA3AF]"> ... </span>
              } @else {
                <button
                  (click)="changePage(p)"
                  class="bg-white focus:outline-none py-2 px-4 rounded-md cursor-pointer text-sm font-medium"
                  [class.bg-[#ECE7DF]]="page() === p"
                  [class.text-[#A0610E]]="page() === p"
                >
                  {{ p }}
                </button>
              }
            }
          </div>
          <button
            (click)="changePage(page() + 1)"
            [disabled]="page() === totalPages()"
            class="disabled:opacity-50 disabled:cursor-not-allowed bg-white focus:outline-none py-2 px-4 rounded-md cursor-pointer flex items-center gap-2"
          >
            <span class="text-sm font-medium text-[#44403B]">Next</span>
            <svg
              class="rotate-180"
              width="5"
              height="10"
              viewBox="0 0 7 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6 11L1 6L6 1"
                stroke="#44403B"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </div>
}
